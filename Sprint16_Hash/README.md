# **Яндекс.Практикум. Спринт 16**

## Тема 1. Хеш-функция 
https://contest.yandex.ru/contest/19095/problems/


## A. Счастливый билет
В Трешландии проводится лотерея. Выигрывают участники, у которых 
счастливый билет. Билет считается счастливым, если его номер становится 
равным 1 после кондратиева преобразования.

Алгоритм кондратиевого преобразования такой: Заменить каждую цифру 
числа её второй степенью
Сложить получившиеся значения
Повторять алгоритм для результата предыдущего шага

Пример: Дано число 19.
1^2 + 9^2 = 82
8^2 + 2^2 = 68
6^2 + 8^2 = 100
1^2 + 0^2 + 0^2 = 1
Формат ввода

На вход подается целое неотрицательное число n. 
Оно не превосходит 100000.

Нужно вывести True, если номер билета счастливый, иначе - False.

## B. Легкие числа
Евлампия в школе не очень любила арифметику. Ей кажется, что считать очень 
сложно. Как-то она услышала, что бывают простые числа. Евлампия подумала, 
что, используя их, считать намного проще. На день рождения она попросила отца 
в качестве подарка разрешить жителям Трешландии использовать только простые 
числа, и называть их легкими числами, так как букву "Р" она плохо выговаривает.
Помогите жителям Трешландии определить, сколько чисел, не превышающих 
определенное число, они могут использовать.

На вход подается целое неотрицательное число n, которое не превосходит 1000000.

Нужно вывести количество чисел, меньших n.


## C. Анаграммная группировка
Евлампия захотела избавиться от проблем с произношением, стать певицей, 
и поехать на Евровидение. Она обратилась за помощью к логопеду. 
Он посоветовал ей выполнять упражнение, которое называется анаграммная 
группировка. В качестве подготовительного этапа нужно выбрать из множества 
строк анаграммы. Помогите Евлампии сделать шаг к победе в песенном конкурсе.

В первой строке записано число n - количество строк.
Далее в строку через пробел записаны n строк.
n не превосходит 5000. Длина каждой строки не более 100 символов.

Нужно вывести в отсортированном порядке индексы строк, которые являются 
анаграммами. В каждой строке должны быть индексы строк-анаграмм.


## D. Строковые числа
Евлампии не очень помогло использование легких чисел. 
Она решила, что будет проще, если превратить все числа в строки. 
Это касается и дробных чисел. Если при делении двух чисел получается 
периодическая дробь, нужно вывести период в скобках. 
Помогите Евлампии определить строковое представление результата деления двух чисел.

В первой строке записано целое неотрицательное число a.
Во второй - положительное число b.
Оба числа не превосходят 500.
Формат вывода

Выведите строковое представление результата вычисления выражения a/b.


## E. Соревнование
В Удотинске проводятся соревнования по поеданию пельменей. 
Участвуют двое. Если выигравает первый, в результирующую таблицу записывается 0, 
если второй, то 1. Ничьей в одном раунде быть не может. Нужно определить 
наибольший по длине непрерывный отрезок раундов, по результатам которого 
получается суммарно ничья.

Например, если дана последовательность 0 0 1 0 1 1 1 0 0 0, 
то раунды с 2-го по 9-й (нумерация с единицы) дают ничью.
Формат ввода

В первой строке задается количество раундов n (0 ≤ n ≤ 105). 
Во второй строке через пробел записаны n чисел. Каждое число равно либо 0, либо 1.
Формат вывода

Выведите единственное число — максимальное число подряд идущих раундов, 
по результатам которых получается ничья.


## F. Странное сравнение
В Трешландии вводят новый способ сравнения строк. 
Две строки s и t считаются равными, если можно заменить символы s и получить t. 
Например, если строка s=abacaba, то ей будет равна строка t=xhxixhx, 
так как все вхождения «a» заменены на «x», «b» — на «h», а «c» — на «i».

Все вхождения символа должны быть заменены с сохранением порядка. 
Два разных символа одной строки не могут соответствовать одинаковому 
символу из другой строки.


В первой строке записана строка s,  во второй — строка t. 
Длины обеих строк не превосходят 106. Обе строки содержат хотя бы по одному 
символу и состоят только из маленьких латинских букв.


Выведите «YES» (без кавычек), если строки, согласно правилам Трешландии, равны, 
и «NO» в ином случае.


## G. МногоГоша
Ребята решили поиграть в игру «Многогоша». Дана строка, состоящая из букв 
«G», «O», «S», «H», «A». Нужно найти все подстроки длины 10, 
которые встречаются более одного раза.

Строка, состоящая из букв «G», «O», «S», «H», «A» длины не более 106.
Формат вывода

Выведите все подстроки длины 10, которые встречаются более одного раза, 
в алфавитном порядке. 


## H. Общий подмассив
Гоша и Тимофей играли в компьютерную игру Барсучок, и записывали свои очки 
в каждом раунде. Нужно выяснить, какое максимальное количество раундов подряд 
ребята зарабатывали одинаковые очки.
Формат ввода

В первой строке находится число n (1 ≤ n ≤ 10000) — количество раундов Гоши. 
Во второй записаны n чисел — заработанные очки Гоши. В третьей строке дано 
число m (1 ≤ m ≤ 30000) — количество раундов Тимофея. В четвертой строке 
заданы m чисел — очки Тимофея.

Элементы массивов — неотрицательные целые числа, лежащие в диапазоне от 1 до 255.
Формат вывода

Выведите единственное число — максимальное количество раундов подряд, 
в которых ребята зарабатывали одинаковые очки. 


## I. Полиномиальный хеш
Алле очень понравился алгоритм вычисления полиномиального хеша. 
Помогите ей написать функцию, вычисляющую полиномиальный хеш строки s. 
В данной задаче необходимо считать обратный хеш, используя в качестве хешей 
отдельных символов их коды.


В первой строке дано число a (1 ≤ a ≤ 1000) — основание, по которому 
считается хеш. Во второй строке дано число m (1 ≤ m ≤ 109) — модуль. 
В третьей строке дана строка s (0 ≤ |s| ≤ 106), состоящая из больших 
и маленьких латинских букв.

Выведите единственное число — хеш заданной строки.


## L. Сумма четверок
На этот раз Гоше интересно определить все уникальные четверки очков, 
заработанных во время игры Барсучок, которые в сумме дают заданное число.
Формат ввода

В первой строке дано общее количество элементов массива n (0 ≤ n ≤ 1000). 
Во второй строке дано целевое значение S, S — целое число, по модулю не 
превосходящее 109.

В третьей строке задан сам массив. Каждое число является целым и не превосходит 
по модулю 109.

В первой строке выведите количество найденных четверок.

В последующих строках выведите найденные четверки по одной. Числа внутри одной 
четверки должны быть упорядочены по возрастанию. Между собой различные четверки 
упорядочены лексикографически.


## M. Проверка паттерна
Ребята решили поиграть в такую игру. Необходимо проверить текст 
на соответствие некоторому паттерну, который задан в виде последовательности 
букв. Между буквами паттерна и словами текста должно устанавливаться взаимно 
однозначное соответствие при сохранении порядка букв паттерна и слов текста. 
То есть одинаковым словам соответствуют одинаковые буквы. 
Различным словам — различные буквы. Задача определить, подходит 
ли введенный текст под указанный паттерн.

В первой строке задано слово — паттерн, длина которого не превосходит 1000. 
Паттерн может состоять только из маленьких латинских букв.

Во второй строке задан текст — он состоит из слов, разделенных пробелами. 
Общая длина всех слов не превосходит 106. Слова текста состоят из маленьких 
латинских букв.

Если текст удовлетворяет шаблону, то выведите «YES». Иначе — «NO».


## N. Самый длинный палиндром
Пока ребята в Трешландии, Вася продолжает придумывать задачи про палиндром. 
На этот раз необходимо узнать, палиндром какой наибольшей длины можно составить 
из букв данной строки. Можно использовать только часть букв и переставлять 
их между собой.

Дана строка длиной не более 106, состоящая из больших и маленьких латинских букв.

Выведите единственное число — длину наибольшего палиндрома, который можно 
составить из букв строки.


## O. Периметр
Кондратий решил устроить соревнование. Билет на выставку его картин получит тот, 
кто напишет самую эффективную программу, решающую следующую задачу.
На клетчатом поле из нулей нарисована некоторая фигура из единичек. 
Известно, что внутри фигуры нет пробелов (то есть участков из нулей), 
то есть она односвязная. Найдите периметр этой фигуры, каждая сторона 
клетки имеет длину 1. Стороны клеток, лежащие на границе поля, также надо учитывать.

В первой строке заданы два числа 0 ≤ n ≤ 1000 и 0 ≤ m ≤ 1000 — число строк 
и столбцов поля соответственно. В следующих n строках записано по m чисел, 
каждое — либо 0, либо 1.

Выведите единственное число — периметр фигуры на поле.


## P. Собери словарь
Гоша захотел реализовать возможность собрать хеш-таблицу по двум 
массивам — ключам и значениям. Ключи и значения должны идти параллельно, 
то есть ключу на позиции i должно быть сопоставлено значение на 
позиции i или строка «None», если во втором массиве недостаточно элементов. 
Значения, для которых нет ключей, игнорируются. Помогите Гоше справиться 
с этой задачей.

В первой строке дано количество ключей — число n (0 ≤ n ≤ 200). 
Во второй строке заданы ключи — строки, состоящие из цифр, маленьких 
и больших латинских букв. Суммарная длина ключей не превосходит 106.

В третьей строке дано количество значений — число m (0 ≤ m ≤ 200). 
В четвертой строке даны значения, состоящие из цифр, маленьких и больших 
латинских букв. Суммарная длина значений не превосходит 106.

Выведите сформированный словарь в следующем формате:
ключ: значение
по одной записи в строке.



# Финальные задачи
## A. Укоротитель урлов
Если на вход приходит post урл content, нужно вернуть укороченный урл, 
полученный с помощью описанного алгоритма.  
Если приходит get урл (укороченный), то:  
  Если такой урл есть в базе данных, то напечатать контент.  
  Иначе напечатать error

Будем использовать алгоритм base62.
BASE=0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ
Строка BASE состоит из 62 символов. Будем использовать её в алгоритме.

Функция декодирования: преобразует строку в число.  
Алгоритм decode(string):  
Заведем переменную decoded_string = 0  
И константу b = 62  
Проходим по строке в цикле, и на каждой итерации i выполняем следующие действия:  
Находим индекс элемента на i позиции в BASE (индексация начинается с нуля)  

    pos = base.find(string[i])  
    decoded_string = b * decoded_string + pos  
    Возвращаем decoded_string  

Функция кодирования: преобразует число в строку.  
Алгоритм `encode(num)`:  
Считаем остаток от деления num на b  
`r = num mod b`  
Находим символ, соответствующий индексу `r`  
`encoded_string = base[r]`  
Берем целую часть  
`q = floor(num / b)`  
Пока q больше нуля:  
Считаем остаток от деления q на b  
`r = q mod b`  
Присваиваем q значение, равное целой части от q деленного на b  
`q = floor(q / b)`  
Находим значение, соответствующее индексу r и прибавляем его к   encoded_string  
`encoded_string = base[int(r)] + encoded_string`  
Возвращаем `encoded_string`
  
Пример:  
Преобразуем слово cat  
`decode("cat")`  
На первой итерации значение `decoded_string` будет равно `12`,   
на второй, `754`, на третьей - `46777`  
Ответ: 46777  

Выполним обратное преобразование:  
`encode(46777)`  
До цикла `r = 29`  
`encoded_string = t`  
Первая итерация:  
`q = 754`  
`r = 10`  
Вторая итерация:  
`encoded_string = at`  
`q = 12`  
`r = 12`  
`encoded_string = cat`  
В конце итерации `q = 0`  
Ответ: `cat`  

### Формат ввода
В первой строке задается число запросов n (1 ≤ n ≤ 104).   
В каждой из следующих n строк записаны по одному запросы.   
Есть два вида запросов:  

    post url content
    get url

### Формат вывода
Для запросов post нужно вернуть укороченный урл,   
для запросов get - контент или сообщение error.


## B. Хеш-таблица
Также после указа Кондратия нужно реализовать собственную хеш-таблицу.

Хеш - таблица должна поддерживать следующие операции:

    put key value — добавление пары ключ-значение
    get key — получить значение по ключу. Если ключа нет в таблице, 
        то вывести -1. Иначе вывести найденное значение.
    delete key — удаление ключа из таблицы. Если такого ключа нет, 
        то вывести error, иначе вывести ok и удалить ключ.

В таблице хранятся уникальные ключи.

Требования к реализации:

- размер таблицы не превосходит 1000
- разрешение коллизий с помощью метода цепочек
- все операции выполняются за O(1) в среднем

### Формат ввода

В первой строке задано общее число запросов к таблице n (1 ≤ n ≤ 105). 
В следующих n строках даны запросы. Запросы бывают трех видов: get, put, delete, 
как описано в условии.

Все ключи и значения — целые неотрицательные числа, не превосходящие 109.
### Формат вывода

На каждый запрос вида get и delete выведите ответ на него в отдельной строке. 
Для delete — «ok» или «errror». Для get — найденное значение или -1. 
